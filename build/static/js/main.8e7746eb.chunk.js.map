{"version":3,"sources":["components/Join/Join.js","components/Window/Window.js","components/Messages/Messages.js","components/MessageBox/MessageBox.js","components/OnlineUsers/OnlineUsers.js","components/Chat/Chat.js","components/App.js","index.js"],"names":["Join","useState","name","setName","room","setRoom","className","type","placeholder","onChange","e","target","value","onClick","event","preventDefault","to","Window","Messages","clientUser","messages","id","map","msg","key","indexOf","user","text","MessageBox","setMessage","message","sendMessage","onKeyPress","code","OnlineUsers","socket","onlineUsers","class","Chat","location","setOnlineUsers","setMessages","ENDPOINT","useEffect","queryString","parse","search","console","log","io","on","emit","users","off","scrollBottom","document","getElementById","scrollTop","scrollHeight","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.8e7746eb.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Join.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Join() {\r\n    const [name, setName] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n\r\n    return <div className=\"container join-main-div\">\r\n        <h1>Join a Room!</h1>\r\n        <hr className=\"line\"></hr>\r\n\r\n            <input type=\"text\" className=\"form-control mb-3\" placeholder=\"Username\" onChange={e => setName(e.target.value)} value={name} />\r\n            <input type=\"text\" className=\"form-control mb-3\" placeholder=\"Roomname\" onChange={e => setRoom(e.target.value)} value={room} />\r\n\r\n        <Link onClick={(event) =>  (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n            <button className=\"btn btn-primary join-button\">Join</button>\r\n        </Link>\r\n    </div>\r\n}\r\n\r\nexport default Join;","import React from \"react\";\r\nimport \"./Window.css\";\r\n\r\nfunction Window({room}) {\r\n    return <div className=\"window-main\">\r\n        <div className=\"row\">\r\n            <div className=\"col-6 window-left-div\">\r\n                <p className=\"window-bar-text\">Room: {room}</p>\r\n            </div>\r\n            <div className=\"col-6 window-right-div\">\r\n                <p className=\"window-bar-text\">x</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Window;","import React from \"react\";\r\n// @ts-ignore\r\nimport \"./Messages.css\";\r\n\r\nfunction Messages({clientUser, messages}) {\r\n\r\n    return  <div id=\"scroll-to-bottom\" className=\"messages-main\">\r\n                {messages.map( msg => {\r\n                    let key = messages.indexOf(msg);\r\n                    if(msg.user === clientUser) {\r\n                        return <div key={key}className=\"blue-outer-div\">\r\n                            <div className=\"mb-3 message-client\">{msg.text}</div>\r\n                        </div>\r\n                    } else if(msg.user === \"Admin\") {\r\n                        return <div key={key}className=\"admin-outer-div\">\r\n                            <div className=\"mb-3 admin-message\">{msg.text}</div>\r\n                        </div>\r\n                    } else {\r\n                       return <div key={key}>\r\n                            <div className=\"mb-3\"><div className=\"message\"><p className=\"username\"><b>{msg.user}</b></p>{msg.text}</div></div>\r\n                       </div>\r\n                    }\r\n                })}\r\n            </div>\r\n}\r\n\r\nexport default Messages;","import React from \"react\";\r\n\r\nfunction MessageBox({setMessage, message, sendMessage}) {\r\n\r\n    \r\n    return <div className=\"mt-2\">\r\n            <div className=\"input-group mb-3\">\r\n                <input onKeyPress={e => e.code === \"Enter\" ? sendMessage() : null} type=\"text\" className=\"form-control\" placeholder=\"Type a message...\" onChange={e => setMessage(e.target.value)} value={message} />\r\n                <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" id=\"button-addon2\" onClick={message ? sendMessage : null}>Send</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default MessageBox;","import React from \"react\";\r\n\r\nfunction OnlineUsers({onlineUsers}) {\r\n\r\n    return <div class=\"online-users-main\">\r\n        <i class=\"fas fa-globe\"></i>\r\n        {onlineUsers.map(user => <div>{user.name}</div>)}\r\n    </div>\r\n}\r\n\r\nexport default OnlineUsers;","import React, { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport queryString from \"query-string\";\r\nimport Window from \"../Window/Window\";\r\nimport Messages from \"../Messages/Messages\";\r\nimport MessageBox from \"../MessageBox/MessageBox\";\r\nimport OnlineUsers from \"../OnlineUsers/OnlineUsers\"\r\n\r\nimport \"./Chat.css\";\r\n\r\nlet socket;\r\n\r\nfunction Chat({location}) {\r\n    \r\n    const [name, setName] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n    const [onlineUsers, setOnlineUsers] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const ENDPOINT = \"http://localhost:3001\";\r\n\r\n    useEffect( () => {\r\n        let {name, room} = queryString.parse(location.search);\r\n        console.log(name, room);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n        \r\n        socket = io(ENDPOINT);\r\n        socket.on(\"message\", (msg) => {\r\n            setMessages(messages => [...messages, msg]);\r\n        });\r\n\r\n        socket.emit(\"join\", {name, room}, (users) => {\r\n        });\r\n\r\n        socket.on(\"joinUpdater\", users => {\r\n            setOnlineUsers(users);\r\n        });\r\n        \r\n        return () => {\r\n            socket.emit(\"disconnect\");\r\n            socket.off();\r\n        } \r\n\r\n    }, [location.search, ENDPOINT]);\r\n\r\n    function sendMessage() {\r\n        socket.emit(\"newMessage\", {name, room, text: message}, () => {\r\n            const scrollBottom = document.getElementById(\"scroll-to-bottom\");\r\n            scrollBottom.scrollTop = scrollBottom.scrollHeight;\r\n        })\r\n        setMessage(\"\");\r\n    }\r\n\r\n\r\n    return <div className=\"row\">\r\n        <div className=\"col-sm-6\">\r\n            <OnlineUsers onlineUsers={onlineUsers} />\r\n        </div>\r\n        <div className=\"col-sm-6 container chat-main-div\">\r\n        <div className=\"chat-box\">\r\n            <Window room={room} />\r\n            <Messages clientUser={name} messages={messages} />\r\n        </div>\r\n        <MessageBox\r\n        setMessage={setMessage}\r\n        message={message}\r\n        sendMessage={sendMessage} />\r\n    </div>\r\n    </div>\r\n}\r\n\r\nexport default Chat;","import React from \"react\";\r\nimport Join from \"./Join/Join\";\r\nimport Chat from \"./Chat/Chat\";\r\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\r\n\r\nfunction App() {\r\n    return <div>\r\n        <Router>\r\n            <Route path=\"/\" exact component={Join} />\r\n            <Route path=\"/chat\" component={Chat} />\r\n        </Router>\r\n    </div>\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById(\"root\")\r\n)"],"sourceRoot":""}